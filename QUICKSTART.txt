"""
–ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ - BuildFlow
==========================

–ü–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—ã–π –∫ –∑–∞–ø—É—Å–∫—É Telegram –±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

1. –ü–†–û–í–ï–†–ö–ê –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–´–• –¢–†–ï–ë–û–í–ê–ù–ò–ô
======================================

‚úì Python 3.10+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úì PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
‚úì Telegram Bot Token –ø–æ–ª—É—á–µ–Ω –æ—Ç @BotFather

2. –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô
==========================

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
Windows: venv\Scripts\activate
Linux/Mac: source venv/bin/activate

# –ï—Å–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω–æ:
python -m venv venv

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã:
pip install -r requirements.txt

3. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø .env
====================

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

BOT_TOKEN=your_token_from_botfather
DATABASE_URL=postgresql://postgres:password@localhost:5432/buildflow
ENV=dev

–í–∞–∂–Ω–æ: –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª (—É–∂–µ –≤ .gitignore)!

4. –ó–ê–ü–£–°–ö –ë–û–¢–ê
==============

python main.py

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
[INFO] Starting BuildFlow bot
[INFO] Database tables created or verified

5. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
================

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (–ø–æ –∏–º–µ–Ω–∏ –∏–∑ BotFather)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: /start
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å: üë∑ –ü—Ä–æ—Ä–∞–± –∏–ª–∏ üë§ –ó–∞–∫–∞–∑—á–∏–∫
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤

–û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´
=================

/start   - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
/help    - –°–ø—Ä–∞–≤–∫–∞
/status  - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞

–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨
=================

‚úì –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤—ã–±–æ—Ä–æ–º —Ä–æ–ª–∏
‚úì –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ä–∞–±—ã)
‚úì –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
‚úì –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
‚úì –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–æ–≤ –ü–ª–∞–Ω/–§–∞–∫—Ç
‚úì –ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (BYN –≤–∞–ª—é—Ç–∞, –¥–∞—Ç—ã –î–î.–ú–ú.–ì–ì–ì–ì)
‚úì –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

–ê–†–•–ò–¢–ï–ö–¢–£–†–ê
============

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FSM (Finite State Machine) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞–º–∏:
- RegistrationState - –≤—ã–±–æ—Ä —Ä–æ–ª–∏
- ProjectManagementState - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- AddExpenseState - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ (6 —Å–æ—Å—Ç–æ—è–Ω–∏–π)
- PhotoReportState - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ (3 —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- ProjectReportState - –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á—ë—Ç–∞

–°–¢–†–£–ö–¢–£–†–ê –ë–î
=============

users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
‚îú‚îÄ‚îÄ id, tg_id, name, role

projects (–ø—Ä–æ–µ–∫—Ç—ã)
‚îú‚îÄ‚îÄ id, name, address, budget, owner_id

transactions (—Ä–∞—Å—Ö–æ–¥—ã)
‚îú‚îÄ‚îÄ id, project_id, amount, category, description

progress_photos (—Ñ–æ—Ç–æ)
‚îú‚îÄ‚îÄ id, project_id, photo_id, stage

–§–ê–ô–õ–´ –ü–†–û–ï–ö–¢–ê
==============

bot/handlers/base.py       - –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (250+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
bot/keyboards/common.py    - –ú–µ–Ω—é –∏ –∫–Ω–æ–ø–∫–∏ (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
bot/keyboards/states/flows.py - FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ø–æ–ª–Ω–æ—Å—Ç—å—é)
bot/utils.py               - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
database/crud.py           - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (–≥–æ—Ç–æ–≤–æ)
database/models.py         - –ú–æ–¥–µ–ª–∏ –ë–î (–≥–æ—Ç–æ–≤–æ)
database/session.py        - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (–≥–æ—Ç–æ–≤–æ)
main.py                    - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–≥–æ—Ç–æ–≤–æ)

–û–¢–õ–ê–î–ö–ê –ò –õ–û–ì–ò–†–û–í–ê–ù–ò–ï
=======================

–í—Å–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ INFO.
–û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–î–ª—è DEBUG —Ä–µ–∂–∏–º–∞ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ main.py:
logging.basicConfig(level=logging.DEBUG)

–ì–û–¢–û–í–û –ö PRODUCTION?
====================

–ü–µ—Ä–µ–¥ production:
‚òê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è FSM —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–≤–º–µ—Å—Ç–æ MemoryStorage)
‚òê –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ webhook (–≤–º–µ—Å—Ç–æ polling)
‚òê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async –ë–î (asyncpg)
‚òê –î–æ–±–∞–≤–∏—Ç—å monitoring –∏ alerting
‚òê –°–æ–∑–¥–∞—Ç—å backup –ë–î
‚òê –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/TLS

–í–û–ü–†–û–°–´ –ò –ü–†–û–ë–õ–ï–ú–´
===================

Q: "BOT_TOKEN is not set"
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª, BOT_TOKEN –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

Q: "Database connection error"
A: –£–±–µ–¥–∏—Ç–µ—Å—å PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ DATABASE_URL –≤–µ—Ä–Ω–∞

Q: "–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç"
A: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–£–°–ü–ï–®–ù–û–ì–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø! üöÄ
"""
